K != V, using scores * weights to compute violations (V is not involved)

================================================================================
Parameter Sweep Analysis: sweep_experiments_k!v_s@w
================================================================================

Found violations file: violations_gpt2_comprehensive_sweep_20251212_065850.json
Total violations logged: 372

Found 8192 configurations

1. Analysis by Bit Position:
--------------------------------------------------------------------------------
Bit    Count    Avg Detection Rate        Avg Loss Diff       
--------------------------------------------------------------------------------
0      256        0.00%                    0.000000
1      256        0.00%                    0.000000
2      256        0.00%                   -0.000000
3      256        0.00%                   -0.000000
4      256        0.00%                   -0.000000
5      256        0.00%                    0.000000
6      256        0.00%                    0.000000
7      256        0.00%                   -0.000000
8      256        0.00%                    0.000000
9      256        0.00%                    0.000000
10     256        0.00%                    0.000000
11     256        0.00%                    0.000000
12     256        0.00%                    0.000000
13     256        0.00%                    0.000000
14     256        0.00%                    0.000000
15     256        0.00%                    0.000000
16     256        0.00%                    0.000000
17     256        0.00%                    0.000000
18     256        0.00%                   -0.000000
19     256        0.00%                   -0.000001
20     256        0.00%                   -0.000002
21     256        0.00%                    0.000000
22     256        0.00%                    0.000001
23     256        7.81%                   -0.000000
24     256        4.69%                    0.000025
25     256       12.50%                   -0.000121
26     256       18.75%                    0.000122
27     256       14.06%                    0.000070
28     256       12.50%                    0.000099
29     256       12.50%                    0.000099
30     256       51.56%                   -0.008614
31     256       10.94%                    0.000064

2. Analysis by Injection Location:
--------------------------------------------------------------------------------
Location     Count    Avg Detection Rate        Avg Loss Diff       
--------------------------------------------------------------------------------
k            2048       5.47%                   -0.000040
q            2048       2.93%                    0.000005
scores       2048       3.91%                    0.000022
weights      2048       5.86%                   -0.001019

3. Analysis by Injection Layers:
--------------------------------------------------------------------------------
Layers               Count    Avg Detection Rate        Avg Loss Diff       
--------------------------------------------------------------------------------
[0]                  2048       5.27%                    0.000523
[3]                  2048       7.81%                   -0.000715
[6]                  2048       2.34%                   -0.000413
[9]                  2048       2.73%                   -0.000427

4. Analysis by Random Seed:
--------------------------------------------------------------------------------
Seed     Count    Avg Detection Rate        Avg Loss Diff       
--------------------------------------------------------------------------------
0        2048       4.54%                   -0.000258
42       2048       4.54%                   -0.000258
123      2048       4.54%                   -0.000258
3407     2048       4.54%                   -0.000258

5. Analysis by Injection Index:
--------------------------------------------------------------------------------
Index                          Count    Avg Detection Rate        Avg Loss Diff       
--------------------------------------------------------------------------------
(0, 0, 10, 20)                 2048       2.34%                   -0.000353
(0, 3, 53, 43)                 2048       3.71%                   -0.000306
(1, 6, 32, 1)                  2048       6.25%                   -0.000153
(1, 9, 31, 62)                 2048       5.86%                   -0.000220

6. Violations Summary:
--------------------------------------------------------------------------------
Total violation cases: 372

Top 5 violation configurations (bit, location):
  Bit 30, Location weights: 64 violations
  Bit 30, Location q: 36 violations
  Bit 30, Location k: 24 violations
  Bit 31, Location scores: 20 violations
  Bit 26, Location weights: 20 violations

7. NaN Statistics:
--------------------------------------------------------------------------------
Total experiments with NaN: 80

Detailed NaN Report (violations with NaN): 20 cases
(NaN in detected violations often indicates bit 30/31 affecting floating-point values)

  Bit 30: 20 violation(s) with NaN
    - Location: k, Layers: [9]
    - Location: k, Layers: [6]
    - Location: q, Layers: [9]
    ... and 17 more

  Note: These 20 cases had both violations AND NaN values.
        Total NaN cases (including non-violations): 80

================================================================================


K == V, using scores * weights to compute violations

================================================================================
Parameter Sweep Analysis: sweep_experiments_k=v_s@w
================================================================================

Found violations file: violations_gpt2_comprehensive_sweep_20251212_070628.json
Total violations logged: 504

Found 8192 configurations

1. Analysis by Bit Position:
--------------------------------------------------------------------------------
Bit    Count    Avg Detection Rate        Avg Loss Diff       
--------------------------------------------------------------------------------
0      256        0.00%                    0.000000
1      256        0.00%                   -0.000000
2      256        0.00%                   -0.000000
3      256        0.00%                   -0.000000
4      256        0.00%                   -0.000000
5      256        0.00%                   -0.000000
6      256        0.00%                   -0.000000
7      256        0.00%                   -0.000000
8      256        0.00%                   -0.000000
9      256        0.00%                   -0.000000
10     256        0.00%                   -0.000000
11     256        0.00%                   -0.000000
12     256        0.00%                   -0.000000
13     256        0.00%                   -0.000000
14     256        0.00%                   -0.000001
15     256        0.00%                   -0.000000
16     256        0.00%                   -0.000000
17     256        0.00%                   -0.000001
18     256        0.00%                   -0.000000
19     256        0.00%                    0.000000
20     256        1.56%                    0.000000
21     256        4.69%                    0.000002
22     256        1.56%                    0.000003
23     256       12.50%                   -0.000013
24     256       20.31%                   -0.000025
25     256       26.56%                   -0.000067
26     256       10.94%                    0.000019
27     256        9.38%                    0.000011
28     256       10.94%                    0.000011
29     256       10.94%                    0.000011
30     256       73.44%                    0.041314
31     256       14.06%                    0.000020

2. Analysis by Injection Location:
--------------------------------------------------------------------------------
Location     Count    Avg Detection Rate        Avg Loss Diff       
--------------------------------------------------------------------------------
k            2048       8.20%                    0.004112
q            2048       4.69%                   -0.000008
scores       2048       6.45%                    0.000034
weights      2048       5.27%                    0.001023

3. Analysis by Injection Layers:
--------------------------------------------------------------------------------
Layers               Count    Avg Detection Rate        Avg Loss Diff       
--------------------------------------------------------------------------------
[0]                  2048       7.23%                    0.004736
[3]                  2048       5.47%                   -0.000018
[6]                  2048       5.47%                    0.000297
[9]                  2048       6.45%                    0.000146

4. Analysis by Random Seed:
--------------------------------------------------------------------------------
Seed     Count    Avg Detection Rate        Avg Loss Diff       
--------------------------------------------------------------------------------
0        2048       6.15%                    0.001290
42       2048       6.15%                    0.001290
123      2048       6.15%                    0.001290
3407     2048       6.15%                    0.001290

5. Analysis by Injection Index:
--------------------------------------------------------------------------------
Index                          Count    Avg Detection Rate        Avg Loss Diff       
--------------------------------------------------------------------------------
(0, 0, 10, 20)                 2048       7.62%                    0.000860
(0, 3, 53, 43)                 2048       8.59%                   -0.000013
(1, 6, 32, 1)                  2048       4.69%                    0.000043
(1, 9, 31, 62)                 2048       3.71%                    0.004269

6. Violations Summary:
--------------------------------------------------------------------------------
Total violation cases: 504

Top 5 violation configurations (bit, location):
  Bit 30, Location weights: 64 violations
  Bit 30, Location k: 60 violations
  Bit 30, Location q: 36 violations
  Bit 25, Location weights: 32 violations
  Bit 30, Location scores: 28 violations

7. NaN Statistics:
--------------------------------------------------------------------------------
Total experiments with NaN: 40

Detailed NaN Report (violations with NaN): 12 cases
(NaN in detected violations often indicates bit 30/31 affecting floating-point values)

  Bit 30: 12 violation(s) with NaN
    - Location: k, Layers: [3]
    - Location: k, Layers: [6]
    - Location: k, Layers: [9]
    ... and 9 more

  Note: These 12 cases had both violations AND NaN values.
        Total NaN cases (including non-violations): 40

================================================================================


K == V, using q * attention to compute violations

================================================================================
Parameter Sweep Analysis: sweep_experiments_k=v_q@o
================================================================================

Found violations file: violations_gpt2_comprehensive_sweep_20251212_071536.json
Total violations logged: 524

Found 8192 configurations

1. Analysis by Bit Position:
--------------------------------------------------------------------------------
Bit    Count    Avg Detection Rate        Avg Loss Diff       
--------------------------------------------------------------------------------
0      256        0.00%                    0.000000
1      256        0.00%                   -0.000000
2      256        0.00%                   -0.000000
3      256        0.00%                   -0.000000
4      256        0.00%                   -0.000000
5      256        0.00%                   -0.000000
6      256        0.00%                   -0.000000
7      256        0.00%                   -0.000000
8      256        0.00%                   -0.000000
9      256        0.00%                   -0.000000
10     256        0.00%                   -0.000000
11     256        0.00%                   -0.000000
12     256        0.00%                   -0.000000
13     256        0.00%                   -0.000000
14     256        0.00%                   -0.000001
15     256        0.00%                   -0.000000
16     256        0.00%                   -0.000000
17     256        0.00%                   -0.000001
18     256        0.00%                   -0.000000
19     256        0.00%                    0.000000
20     256        0.00%                    0.000000
21     256        1.56%                    0.000002
22     256        3.12%                    0.000003
23     256       15.62%                   -0.000013
24     256       17.19%                   -0.000025
25     256       26.56%                   -0.000067
26     256       12.50%                    0.000019
27     256       12.50%                    0.000011
28     256       12.50%                    0.000011
29     256       12.50%                    0.000011
30     256       73.44%                    0.041314
31     256       17.19%                    0.000020

2. Analysis by Injection Location:
--------------------------------------------------------------------------------
Location     Count    Avg Detection Rate        Avg Loss Diff       
--------------------------------------------------------------------------------
k            2048       6.45%                    0.004112
q            2048       8.40%                   -0.000008
scores       2048       5.47%                    0.000034
weights      2048       5.27%                    0.001023

3. Analysis by Injection Layers:
--------------------------------------------------------------------------------
Layers               Count    Avg Detection Rate        Avg Loss Diff       
--------------------------------------------------------------------------------
[0]                  2048       6.84%                    0.004736
[3]                  2048       5.08%                   -0.000018
[6]                  2048       7.03%                    0.000297
[9]                  2048       6.64%                    0.000146

4. Analysis by Random Seed:
--------------------------------------------------------------------------------
Seed     Count    Avg Detection Rate        Avg Loss Diff       
--------------------------------------------------------------------------------
0        2048       6.40%                    0.001290
42       2048       6.40%                    0.001290
123      2048       6.40%                    0.001290
3407     2048       6.40%                    0.001290

5. Analysis by Injection Index:
--------------------------------------------------------------------------------
Index                          Count    Avg Detection Rate        Avg Loss Diff       
--------------------------------------------------------------------------------
(0, 0, 10, 20)                 2048       7.42%                    0.000860
(0, 3, 53, 43)                 2048       9.96%                   -0.000013
(1, 6, 32, 1)                  2048       4.30%                    0.000043
(1, 9, 31, 62)                 2048       3.91%                    0.004269

6. Violations Summary:
--------------------------------------------------------------------------------
Total violation cases: 524

Top 5 violation configurations (bit, location):
  Bit 30, Location weights: 64 violations
  Bit 30, Location k: 56 violations
  Bit 30, Location q: 40 violations
  Bit 25, Location weights: 32 violations
  Bit 30, Location scores: 28 violations

7. NaN Statistics:
--------------------------------------------------------------------------------
Total experiments with NaN: 40

Detailed NaN Report (violations with NaN): 12 cases
(NaN in detected violations often indicates bit 30/31 affecting floating-point values)

  Bit 30: 12 violation(s) with NaN
    - Location: k, Layers: [3]
    - Location: k, Layers: [6]
    - Location: k, Layers: [9]
    ... and 9 more

  Note: These 12 cases had both violations AND NaN values.
        Total NaN cases (including non-violations): 40

================================================================================


K == V, using the union of scores * weights and q * attention to compute violations

================================================================================
Parameter Sweep Analysis: sweep_experiments_k=v_comb
================================================================================

Found violations file: violations_gpt2_comprehensive_sweep_20251212_073633.json
Total violations logged: 596

Found 8192 configurations

1. Analysis by Bit Position:
--------------------------------------------------------------------------------
Bit    Count    Avg Detection Rate        Avg Loss Diff       
--------------------------------------------------------------------------------
0      256        0.00%                    0.000000
1      256        0.00%                   -0.000000
2      256        0.00%                   -0.000000
3      256        0.00%                   -0.000000
4      256        0.00%                   -0.000000
5      256        0.00%                   -0.000000
6      256        0.00%                   -0.000000
7      256        0.00%                   -0.000000
8      256        0.00%                   -0.000000
9      256        0.00%                   -0.000000
10     256        0.00%                   -0.000000
11     256        0.00%                   -0.000000
12     256        0.00%                   -0.000000
13     256        0.00%                   -0.000000
14     256        0.00%                   -0.000001
15     256        0.00%                   -0.000000
16     256        0.00%                   -0.000000
17     256        0.00%                   -0.000001
18     256        0.00%                   -0.000000
19     256        0.00%                    0.000000
20     256        1.56%                    0.000000
21     256        4.69%                    0.000002
22     256        4.69%                    0.000003
23     256       17.19%                   -0.000013
24     256       23.44%                   -0.000025
25     256       29.69%                   -0.000067
26     256       14.06%                    0.000019
27     256       14.06%                    0.000011
28     256       14.06%                    0.000011
29     256       14.06%                    0.000011
30     256       75.00%                    0.041314
31     256       20.31%                    0.000020

2. Analysis by Injection Location:
--------------------------------------------------------------------------------
Location     Count    Avg Detection Rate        Avg Loss Diff       
--------------------------------------------------------------------------------
k            2048       8.40%                    0.004112
q            2048       8.98%                   -0.000008
scores       2048       6.45%                    0.000034
weights      2048       5.27%                    0.001023

3. Analysis by Injection Layers:
--------------------------------------------------------------------------------
Layers               Count    Avg Detection Rate        Avg Loss Diff       
--------------------------------------------------------------------------------
[0]                  2048       8.98%                    0.004736
[3]                  2048       6.25%                   -0.000018
[6]                  2048       7.03%                    0.000297
[9]                  2048       6.84%                    0.000146

4. Analysis by Random Seed:
--------------------------------------------------------------------------------
Seed     Count    Avg Detection Rate        Avg Loss Diff       
--------------------------------------------------------------------------------
0        2048       7.28%                    0.001290
42       2048       7.28%                    0.001290
123      2048       7.28%                    0.001290
3407     2048       7.28%                    0.001290

5. Analysis by Injection Index:
--------------------------------------------------------------------------------
Index                          Count    Avg Detection Rate        Avg Loss Diff       
--------------------------------------------------------------------------------
(0, 0, 10, 20)                 2048       9.18%                    0.000860
(0, 3, 53, 43)                 2048      11.13%                   -0.000013
(1, 6, 32, 1)                  2048       4.88%                    0.000043
(1, 9, 31, 62)                 2048       3.91%                    0.004269

6. Violations Summary:
--------------------------------------------------------------------------------
Total violation cases: 596

Top 5 violation configurations (bit, location):
  Bit 30, Location weights: 64 violations
  Bit 30, Location k: 60 violations
  Bit 30, Location q: 40 violations
  Bit 25, Location weights: 32 violations
  Bit 30, Location scores: 28 violations

7. NaN Statistics:
--------------------------------------------------------------------------------
Total experiments with NaN: 40

Detailed NaN Report (violations with NaN): 12 cases
(NaN in detected violations often indicates bit 30/31 affecting floating-point values)

  Bit 30: 12 violation(s) with NaN
    - Location: k, Layers: [3]
    - Location: k, Layers: [6]
    - Location: k, Layers: [9]
    ... and 9 more

  Note: These 12 cases had both violations AND NaN values.
        Total NaN cases (including non-violations): 40

================================================================================